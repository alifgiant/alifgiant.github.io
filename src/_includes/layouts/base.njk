<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>{{ title or site.name }} - {{ site.title }}</title>
    <meta name="description" content="{{ description or site.description }}" />
    
    <!-- TailwindCSS CDN (for development - replace with build process for production) -->
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:opsz,wght@9..40,300..800&display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap" rel="stylesheet" />
    
    <!-- Prism.js Syntax Highlighting -->
    <link href="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/prism.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-python.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-bash.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-javascript.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-typescript.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-dart.min.js"></script>
    
    <!-- Tailwind Config -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'primary': '#8D6E63',
                        'primary-dark': '#5D4037',
                        'primary-hover': '#6F5236',
                        'accent': '#D7CCC8',
                        'surface': '#ffffff',
                        'surface-alt': '#F5F5F4',
                        'background-light': '#FAFAF9',
                        'background-accent': '#EBE5DF',
                        'text-main': '#292524',
                        'text-muted': '#57534E',
                    },
                    fontFamily: {
                        'display': ['Space Grotesk', 'sans-serif'],
                        'body': ['DM Sans', 'sans-serif']
                    },
                    borderRadius: {
                        'DEFAULT': '1rem',
                        'lg': '1.5rem',
                        'xl': '2.5rem',
                        '2xl': '3rem',
                        '3xl': '4rem',
                        'full': '9999px'
                    },
                    backgroundImage: {
                        'gradient-warm': 'linear-gradient(135deg, #FAF9F6 0%, #EBE5DF 100%)',
                        'grain': "url(\"data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.05'/%3E%3C/svg%3E\")"
                    }
                },
            },
        }
    </script>
    
    <style>
        .material-symbols-outlined {
            font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 24;
        }
        html {
            scroll-behavior: smooth;
        }
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f5f5f4;
        }
        ::-webkit-scrollbar-thumb {
            background: #d7ccc8;
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #8d6e63;
        }
        
        /* Blog content styles */
        .blog-content p {
            margin-bottom: 1.5rem;
            line-height: 1.8;
            font-size: 1.125rem;
            color: #44403c;
        }
        .blog-content h2 {
            font-family: 'Space Grotesk', sans-serif;
            font-size: 2rem;
            font-weight: 700;
            margin-top: 3rem;
            margin-bottom: 1.5rem;
            line-height: 1.2;
            color: #1c1917;
        }
        .blog-content h3 {
            font-family: 'Space Grotesk', sans-serif;
            font-size: 1.5rem;
            font-weight: 600;
            margin-top: 2rem;
            margin-bottom: 1rem;
            color: #1c1917;
        }
        .blog-content ul {
            list-style-type: disc;
            padding-left: 1.5rem;
            margin-bottom: 1.5rem;
        }
        .blog-content li {
            margin-bottom: 0.5rem;
            color: #44403c;
            line-height: 1.6;
        }
        .blog-content blockquote {
            border-left: 4px solid #8D6E63;
            padding-left: 1.5rem;
            font-style: italic;
            margin: 2rem 0;
            color: #57534E;
            font-size: 1.25rem;
            background: rgba(141, 110, 99, 0.05);
            padding: 1.5rem;
            border-radius: 0 1rem 1rem 0;
        }
        .blog-content pre {
            border-radius: 1rem;
            margin: 1.5rem 0;
            overflow-x: auto;
        }
        .blog-content pre code {
            font-family: ui-monospace, 'Fira Code', Consolas, monospace;
            font-size: 0.875rem;
        }
        .blog-content :not(pre) > code {
            background: #f5f5f4;
            color: #8D6E63;
            padding: 0.2rem 0.4rem;
            border-radius: 0.25rem;
            font-family: ui-monospace, 'Fira Code', Consolas, monospace;
            font-size: 0.9em;
        }
        
        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in {
            animation: fadeIn 0.8s ease-out forwards;
        }
    </style>
    
    <!-- Alpine.js -->
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
</head>

<body class="bg-gradient-to-br from-[#FAFAF9] via-[#F5F5F4] to-[#E7E5E4] text-text-main font-body overflow-x-hidden selection:bg-primary selection:text-white min-h-screen flex flex-col">
    <!-- Background grain texture -->
    <div class="fixed inset-0 z-[-1] pointer-events-none bg-grain opacity-50 mix-blend-multiply"></div>
    
    {% include "partials/nav.njk" %}
    {% include "partials/sidebar.njk" %}
    
    <main class="flex-grow w-full flex flex-col items-center px-4 md:px-10 lg:px-20 pt-32 pb-20">
        {{ content | safe }}
    </main>
    
    {% include "partials/footer.njk" %}
</body>
</html>
