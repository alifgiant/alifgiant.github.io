<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>{{ title or site.name }} - {{ site.title }}</title>
    <meta name="description" content="{{ description or site.description }}" />
    
    <!-- Compiled Tailwind CSS -->
    <link rel="stylesheet" href="/assets/main.css" />
    
    <!-- Google Fonts (preconnect to speed up font loading) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:opsz,wght@9..40,300..800&display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap" rel="stylesheet" />
    
    <!-- Prism.js Syntax Highlighting -->
    <link href="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet" />
    <script defer src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/prism.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-python.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-bash.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-shell-session.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-javascript.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-typescript.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-dart.min.js"></script>
    
    <!-- Tailwind config lives in tailwind.config.js for the compiled build -->
    
    <style>
        .material-symbols-outlined {
            font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 24;
        }
        html {
            scroll-behavior: smooth;
        }
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f5f5f4;
        }
        ::-webkit-scrollbar-thumb {
            background: #d7ccc8;
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #8d6e63;
        }
        
        /* Blog content styles */
        .blog-content p {
            margin-bottom: 1.5rem;
            line-height: 1.8;
            font-size: 1.125rem;
            color: #44403c;
        }
        .blog-content h2 {
            font-family: 'Space Grotesk', sans-serif;
            font-size: 2rem;
            font-weight: 700;
            margin-top: 3rem;
            margin-bottom: 1.5rem;
            line-height: 1.2;
            color: #1c1917;
        }
        .blog-content h3 {
            font-family: 'Space Grotesk', sans-serif;
            font-size: 1.5rem;
            font-weight: 600;
            margin-top: 2rem;
            margin-bottom: 1rem;
            color: #1c1917;
        }
        .blog-content ul {
            list-style-type: disc;
            padding-left: 1.5rem;
            margin-bottom: 1.5rem;
        }
        .blog-content li {
            margin-bottom: 0.5rem;
            color: #44403c;
            line-height: 1.6;
        }
        .blog-content blockquote {
            border-left: 4px solid #8D6E63;
            padding-left: 1.5rem;
            font-style: italic;
            margin: 2rem 0;
            color: #57534E;
            font-size: 1.25rem;
            background: rgba(141, 110, 99, 0.05);
            padding: 1.5rem;
            border-radius: 0 1rem 1rem 0;
        }
        .blog-content pre {
            border-radius: 1rem;
            margin: 1.5rem 0;
            overflow-x: auto;
        }
        .blog-content pre code {
            font-family: ui-monospace, 'Fira Code', Consolas, monospace;
            font-size: 0.875rem;
        }
        .blog-content :not(pre) > code {
            background: #f5f5f4;
            color: #8D6E63;
            padding: 0.2rem 0.4rem;
            border-radius: 0.25rem;
            font-family: ui-monospace, 'Fira Code', Consolas, monospace;
            font-size: 0.9em;
        }
        
        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in {
            animation: fadeIn 0.8s ease-out forwards;
        }
    </style>
    
    <!-- Alpine.js -->
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
</head>

<body class="bg-gradient-to-br from-[#FAFAF9] via-[#F5F5F4] to-[#E7E5E4] text-text-main font-body overflow-x-hidden selection:bg-primary selection:text-white min-h-screen flex flex-col">
    <!-- Background grain texture -->
    <div class="fixed inset-0 z-[-1] pointer-events-none bg-grain opacity-50 mix-blend-multiply"></div>
    
    {% include "partials/nav.njk" %}
    
    <main class="flex-grow w-full flex flex-col items-center px-4 md:px-10 lg:px-20 pt-32 pb-20">
        {{ content | safe }}
    </main>
    
    {% include "partials/footer.njk" %}
</body>
</html>
